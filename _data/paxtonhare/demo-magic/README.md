"# Demo Magic\n\ndemo-magic.sh is a handy shell script that enables you to script repeatable demos in a bash environment so you don't have to type as you present. Rather than trying to type commands when presenting you simply script them and let demo-magic.sh run them for you.\n\n## Features\n- Simulates typing. It looks like you are actually typing out commands\n- Allows you to actually run commands or pretend to do so.\n- Can hide commands from presentation. Useful for behind the scenes stuff that doesn't need to be shown.\n\n## Functions\n\n### pe\nPrint and Execute.\n\n1. Waits for you to press <kbd>ENTER</kbd> (unless -n is passed).\n1. Then simulates typing the command you gave it.\n1. Then pauses until you press <kbd>ENTER</kbd>.\n1. Then runs the command.\n\n```bash\n#!/bin/bash\n\npe \"ls -l\"\n```\n\n### pei\nPrint and Execute immediately.\n\n1. Simulates typing the command you gave it.\n1. Then pauses until you press <kbd>ENTER</kbd>.\n1. Then runs the command.\n\n```bash\n#!/bin/bash\n\npei \"ls -l\"\n```\n\n### p\nPrint only.\n\n1. Waits for you to press <kbd>ENTER</kbd> (unless -n is passed).\n1. Then simulates typing the command you gave it.\n1. Then pauses until you press <kbd>ENTER</kbd>.\n\n```bash\n#!/bin/bash\n\np \"ls -l\"\n```\n\n### wait\nWaits for the user to press <kbd>ENTER</kbd>.\n\nIf `PROMPT_TIMEOUT` is defined and > 0 the demo will automatically proceed after the amount of seconds has passed.\n\n```bash\n#!/bin/bash\n\n# Will wait until user presses enter\nPROMPT_TIMEOUT=0\nwait\n\n# Will wait max 5 seconds until user presses\nPROMPT_TIMEOUT=5\nwait\n\n```\n\n### cmd\nEnters script into interactive mode and allows newly typed commands to be executed within the script\n```\n#!/bin/bash\n\ncmd\n```\n\n## Getting Started\nCreate a shell script and include demo-magic.sh\n\n```bash\n#!/bin/bash\n\n########################\n# include the magic\n########################\n. demo-magic.sh\n\n# hide the evidence\nclear\n\n# Put your stuff here\n```\n\nThen use the handy functions to run through your demo.\n\n## Command line usage\ndemo-magic.sh exposes some options to your script.\n- `-d` - disable simulated typing. Useful for debugging\n- `-h` - prints the usage text\n- `-n` - set no default waiting after `p` and `pe` functions\n- `-w` - set no wait timeout after `p` and `pe` functions\n\n```bash\n$ ./my-demo.sh -h\n\nUsage: ./my-demo.sh [options]\n\n  Where options is one or more of:\n  -h  Prints Help text\n  -d  Debug mode. Disables simulated typing\n  -n  No wait\n  -w  Waits max the given amount of seconds before proceeding with demo (e.g. `-w5`)\n```\n\n## Useful Tricks\n\n### Faking network connections\nNetwork connections during demos are often unreliable. Try and fake whatever commands would rely on a network connection. For example: Instead of trying to install node modules in a node.js application you can fake it. You can install the node_modules at home on your decent network. Then rename the directory and pretend to install it later by symlinking. If you want to be thorough you can capture the output of npm install into a log file then cat it out later to simulate the install.\n\n```bash\n#!/bin/bash\n\n########################\n# include the magic\n########################\n. demo-magic.sh\n\n# hide the evidence\nclear\n\n# this command is typed and executed\npe \"cd my-app\"\n\n# this command is merely typed. Not executed\np \"npm install\"\n\n# this command runs behind the scenes\nln -s cached_node_modules node_modules\n\n# cat out a log file that captures a previous successful node modules install\ncat node-modules-install.log\n\n# now type and run the command to start your app\npe \"node index.js\"\n```\n\n### No waiting\nThe -n _no wait_ option can be useful if you want to print and execute multiple commands.\n\n```bash\n# include demo-magic\n. demo-magic.sh -n\n\n# add multiple commands\npe 'git status'\npe 'git log --oneline --decorate -n 20'\n```\n\nHowever this will oblige you to define your waiting points manually e.g.\n```bash\n...\n# define waiting points\npe 'git status'\npe 'git log --oneline --decorate -n 20'\nwait\npe 'git pull'\npe 'git log --oneline --decorate -n 20'\nwait\n```\n"
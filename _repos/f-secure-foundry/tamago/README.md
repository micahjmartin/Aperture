"TamaGo - bare metal Go for ARM SoCs\n===================================\n\ntamago | https://github.com/f-secure-foundry/tamago  \n\nCopyright (c) F-Secure Corporation  \nhttps://foundry.f-secure.com\n\n![TamaGo gopher](https://github.com/f-secure-foundry/tamago/wiki/images/tamago.svg?sanitize=true)\n\nAuthors\n=======\n\nAndrea Barisani  \nandrea.barisani@f-secure.com | andrea@inversepath.com  \n\nAndrej Rosano  \nandrej.rosano@f-secure.com   | andrej@inversepath.com  \n\nIntroduction\n============\n\nTamaGo is a framework that enables compilation and execution of unencumbered Go\napplications on bare metal ARM System-on-Chip (SoC) components.\n\nThe projects spawns from the desire of reducing the attack surface of embedded\nsystems firmware by removing any runtime dependency on C code and Operating\nSystems.\n\nThe TamaGo framework consists of the following components:\n\n - A modified [Go distribution](https://github.com/f-secure-foundry/tamago-go)\n   which extends `GOOS` support to the `tamago` target, allowing bare metal\n   execution.\n\n - Go packages for SoC driver support.\n\n - Go packages for board support.\n\nThe modifications are meant to be minimal for both the Go distribution (< ~4000\nLOC changed) and the target application (one import required), with a clean\nseparation from other architectures.\n\nStrong emphasis is placed on code re-use from existing architectures already\nincluded within the standard Go runtime, see\n[Internals](https://github.com/f-secure-foundry/tamago/wiki/Internals).\n\nBoth aspects are motivated by the desire of providing a framework that allows\nsecure Go firmware development on embedded systems.\n\nCurrent release level\n=====================\n\nThe current release for the [TamaGo modified Go distribution](https://github.com/f-secure-foundry/tamago-go) is\n[tamago1.15.2](https://github.com/f-secure-foundry/tamago-go/tree/tamago1.15.2),\nwhich [adds](https://github.com/golang/go/compare/go1.15.2...f-secure-foundry:tamago1.15.2)\n`GOOS=tamago` support to go1.15.2.\n\nBinary releases for amd64 and armv7l Linux hosts [are available](https://github.com/f-secure-foundry/tamago-go/releases/latest).\n\nDocumentation\n=============\n\nThe main documentation can be found on the\n[project wiki](https://github.com/f-secure-foundry/tamago/wiki).\n\nThe package API documentation can be found on\n[pkg.go.dev](https://pkg.go.dev/github.com/f-secure-foundry/tamago).\n\nSupported hardware\n==================\n\nThe following table summarizes currently supported SoCs and boards.\n\n| SoC           | Board                                                                                                                                                                                | SoC package                                                                   | Board package                                                                                          |\n|---------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------|\n| NXP i.MX6ULL  | [USB armory Mk II](https://github.com/f-secure-foundry/usbarmory/wiki)                                                                                                               | [imx6](https://github.com/f-secure-foundry/tamago/tree/master/soc/imx6)       | [usbarmory/mark-two](https://github.com/f-secure-foundry/tamago/tree/master/board/f-secure/usbarmory)  |\n| NXP i.MX6ULL  | [MCIMX6ULL-EVK](https://www.nxp.com/design/development-boards/i-mx-evaluation-and-development-boards/evaluation-kit-for-the-i-mx-6ull-and-6ulz-applications-processor:MCIMX6ULL-EVK) | [imx6](https://github.com/f-secure-foundry/tamago/tree/master/soc/imx6)       | [mx6ullevk](https://github.com/f-secure-foundry/tamago/tree/master/board/nxp/mx6ullevk)                |\n| BCM2835       | [Raspberry Pi Zero](https://www.raspberrypi.org/products/raspberry-pi-zero)                                                                                                          | [bcm2835](https://github.com/f-secure-foundry/tamago/tree/master/soc/bcm2835) | [pi/pizero](https://github.com/f-secure-foundry/tamago/tree/master/board/raspberrypi)                  |\n| BCM2836       | [Raspberry Pi 2](https://www.raspberrypi.org/products/raspberry-pi-2-model-b)                                                                                                        | [bcm2835](https://github.com/f-secure-foundry/tamago/tree/master/soc/bcm2835) | [pi/pi2](https://github.com/f-secure-foundry/tamago/tree/master/board/raspberrypi)                     |\n\nCompiling\n=========\n\nGo applications are simply required to import, the relevant board package to\nensure that hardware initialization and runtime support takes place:\n\n```golang\nimport (\n\t// Example for USB armory Mk II\n\t_ \"github.com/f-secure-foundry/tamago/board/f-secure/usbarmory/mark-two\"\n)\n```\n\nBuild the [TamaGo compiler](https://github.com/f-secure-foundry/tamago-go)\n(or use the [latest binary release](https://github.com/f-secure-foundry/tamago-go/releases/latest)):\n\n```\ngit clone https://github.com/f-secure-foundry/tamago-go -b latest\ncd tamago-go/src && ./all.bash\ncd ../bin && export TAMAGO=`pwd`/go\n```\n\nGo applications can be compiled with the compiler built in the previous step,\nwith the addition of a few flags/variables:\n\n```\n# Example for USB armory Mk II\nGO_EXTLINK_ENABLED=0 CGO_ENABLED=0 GOOS=tamago GOARM=7 GOARCH=arm \\\n  ${TAMAGO} build -ldflags \"-T 0x80010000  -E _rt0_arm_tamago -R 0x1000\"\n```\n\nSee the respective board package README file for compilation information for\neach specific target.\n\nExecuting and debugging\n=======================\n\nSee the respective board package README file for execution and debugging\ninformation for each specific target (real or emulated).\n\nThe [example application](https://github.com/f-secure-foundry/tamago-example)\nprovides sample driver usage and instructions for native as well as emulated\nexecution.\n\nLicense\n=======\n\ntamago | https://github.com/f-secure-foundry/tamago  \nCopyright (c) F-Secure Corporation\n\nThis program is free software: you can redistribute it and/or modify it under\nthe terms of the GNU General Public License as published by the Free Software\nFoundation under version 3 of the License.\n\nThis program is distributed in the hope that it will be useful, but WITHOUT ANY\nWARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A\nPARTICULAR PURPOSE. See the GNU General Public License for more details.\n\nSee accompanying LICENSE file for full details.\n\nThe TamaGo logo is adapted from the Go gopher designed by Renee French and\nlicensed under the Creative Commons 3.0 Attributions license. Go Gopher vector\nillustration by Hugo Arganda.\n"